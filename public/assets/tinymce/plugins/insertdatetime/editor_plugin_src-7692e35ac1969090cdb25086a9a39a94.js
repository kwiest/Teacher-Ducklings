/**
 * editor_plugin_src.js
 *
 * Copyright 2009, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://tinymce.moxiecode.com/license
 * Contributing: http://tinymce.moxiecode.com/contributing
 */
(function(){tinymce.create("tinymce.plugins.InsertDateTime",{init:function(a,b){var c=this;c.editor=a,a.addCommand("mceInsertDate",function(){var b=c._getDateTime(new Date,a.getParam("plugin_insertdate_dateFormat",a.getLang("insertdatetime.date_fmt")));a.execCommand("mceInsertContent",!1,b)}),a.addCommand("mceInsertTime",function(){var b=c._getDateTime(new Date,a.getParam("plugin_insertdate_timeFormat",a.getLang("insertdatetime.time_fmt")));a.execCommand("mceInsertContent",!1,b)}),a.addButton("insertdate",{title:"insertdatetime.insertdate_desc",cmd:"mceInsertDate"}),a.addButton("inserttime",{title:"insertdatetime.inserttime_desc",cmd:"mceInsertTime"})},getInfo:function(){return{longname:"Insert date/time",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/insertdatetime",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_getDateTime:function(a,b){function d(a,b){a=""+a;if(a.length<b)for(var c=0;c<b-a.length;c++)a="0"+a;return a}var c=this.editor;return b=b.replace("%D","%m/%d/%y"),b=b.replace("%r","%I:%M:%S %p"),b=b.replace("%Y",""+a.getFullYear()),b=b.replace("%y",""+a.getYear()),b=b.replace("%m",d(a.getMonth()+1,2)),b=b.replace("%d",d(a.getDate(),2)),b=b.replace("%H",""+d(a.getHours(),2)),b=b.replace("%M",""+d(a.getMinutes(),2)),b=b.replace("%S",""+d(a.getSeconds(),2)),b=b.replace("%I",""+((a.getHours()+11)%12+1)),b=b.replace("%p",""+(a.getHours()<12?"AM":"PM")),b=b.replace("%B",""+c.getLang("insertdatetime.months_long").split(",")[a.getMonth()]),b=b.replace("%b",""+c.getLang("insertdatetime.months_short").split(",")[a.getMonth()]),b=b.replace("%A",""+c.getLang("insertdatetime.day_long").split(",")[a.getDay()]),b=b.replace("%a",""+c.getLang("insertdatetime.day_short").split(",")[a.getDay()]),b=b.replace("%%","%"),b}}),tinymce.PluginManager.add("insertdatetime",tinymce.plugins.InsertDateTime)})();